function NewsList(){}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/public_comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),window.messageBox.showSuccess("評論發表成功"),s.val("")}}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(document).ready(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb21tZW50IiwidHBsIiwidGVtcGxhdGUiLCJwcmVwZW5kIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dTdWNjZXNzIiwicnVuIiwidGhpcyIsImRvY3VtZW50IiwicmVhZHkiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFlBS1RBLFNBQVNDLFVBQVVDLGtCQUFvQixXQUNuQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUsNEJBQ2pCRCxFQUFVRyxNQUFNLFdBQ1osSUFBSUMsRUFBVUYsRUFBU0csTUFDbkJDLEVBQVVOLEVBQVVPLEtBQUssZ0JBQzdCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSlAsUUFBV0EsRUFDWEUsUUFBV0EsR0FFZk0sUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVVELEVBQWEsS0FDdkJFLEVBQU1DLFNBQVMsZUFBZ0IsQ0FBQ0YsUUFBV0EsSUFDeEJiLEVBQUUsaUJBQ1JnQixRQUFRRixHQUN6QkcsT0FBT0MsV0FBV0MsWUFBWSxVQUM5QmxCLEVBQVNHLElBQUksV0FTakNSLFNBQVNDLFVBQVV1QixJQUFNLFdBQ3JCQyxLQUFLdkIscUJBSVRFLEVBQUVzQixVQUFVQyxNQUFNLFlBQ0MsSUFBSTNCLFVBQ1Z3QiIsImZpbGUiOiJuZXdzX2RldGFpbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzTGlzdCgpIHtcclxuXHJcbn1cclxuXHJcblxyXG5OZXdzTGlzdC5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJChcIi5zdWJtaXQtYnRuXCIpXHJcbiAgICB2YXIgdGV4dGFyZWEgPSAkKFwidGV4dGFyZWFbbmFtZT0nY29tbWVudCddXCIpXHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gdGV4dGFyZWEudmFsKClcclxuICAgICAgICB2YXIgbmV3c19pZCA9IHN1Ym1pdEJ0bi5hdHRyKCdkYXRhLW5ld3MtaWQnKVxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvcHVibGljX2NvbW1lbnQvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudCc6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAnbmV3c19pZCc6IG5ld3NfaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcmVzdWx0WydkYXRhJ11cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoJ2NvbW1lbnQtaXRlbScsIHsnY29tbWVudCc6IGNvbW1lbnR9KVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50TGlzdEdyb3VwID0gJChcIi5jb21tZW50LWxpc3RcIilcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdEdyb3VwLnByZXBlbmQodHBsKVxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKCfoqZXoq5bnmbzooajmiJDlip8nKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnZhbChcIlwiKVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKHJlc3VsdFsnbWVzc2FnZSddKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbk5ld3NMaXN0LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmxpc3RlblN1Ym1pdEV2ZW50KClcclxufVxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBuZXdzTGlzdCA9IG5ldyBOZXdzTGlzdCgpXHJcbiAgICBuZXdzTGlzdC5ydW4oKVxyXG59KSJdfQ==
