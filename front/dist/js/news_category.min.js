function NewsCategory(){}NewsCategory.prototype.run=function(){this.listenAddCategoryEvent(),this.listenEditCategoryEvent(),this.listenDeleteCategoryEvent()},NewsCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加新聞分類",placeholder:"請輸入新聞分類",confirmCallback:function(t){xfzajax.post({url:"/cms/add_news_category/",data:{name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},NewsCategory.prototype.listenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),n=t.attr("data-name");xfzalert.alertOneInput({title:"修改分類名稱",placeholder:"請輸入新的分類名稱",value:n,confirmCallback:function(t){xfzajax.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},NewsCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var e=$(this).parent().parent().attr("data-pk");xfzalert.alertConfirm({title:"你確定刪除這個分類嗎?",type:"warning",confirmCallback:function(t){xfzajax.post({url:"/cms/delete_news_category/",data:{pk:e},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},$(document).ready(function(){(new NewsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfY2F0ZWdvcnkuanMiXSwibmFtZXMiOlsiTmV3c0NhdGVnb3J5IiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImxpc3RlbkFkZENhdGVnb3J5RXZlbnQiLCJsaXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCIsImxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQiLCIkIiwiY2xpY2siLCJ4ZnphbGVydCIsImFsZXJ0T25lSW5wdXQiLCJ0aXRsZSIsInBsYWNlaG9sZGVyIiwiY29uZmlybUNhbGxiYWNrIiwiaW5wdXRWYWx1ZSIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsIm5hbWUiLCJzdWNjZXNzIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJjbG9zZSIsInRyIiwicGFyZW50IiwicGsiLCJhdHRyIiwidmFsdWUiLCJhbGVydENvbmZpcm0iLCJ0eXBlIiwiZG9jdW1lbnQiLCJyZWFkeSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBS1RBLGFBQWFDLFVBQVVDLElBQU0sV0FDekJDLEtBQUtDLHlCQUNMRCxLQUFLRSwwQkFDTEYsS0FBS0csNkJBR1ROLGFBQWFDLFVBQVVHLHVCQUF5QixXQUMvQkcsRUFBRSxZQUNSQyxNQUFNLFdBQ1RDLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsU0FDVEMsWUFBZSxVQUNmQyxnQkFBbUIsU0FBVUMsR0FDekJDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTywwQkFDUEMsS0FBUSxDQUNKQyxLQUFRTCxHQUViTSxRQUFXLFNBQVVDLEdBQ08sTUFBbkJBLEVBQWEsS0FDYkMsT0FBT0MsU0FBU0MsU0FHaEJmLFNBQVNnQixpQkFVckN6QixhQUFhQyxVQUFVSSx3QkFBMEIsV0FFL0JFLEVBQUUsYUFDUkMsTUFBTSxXQUNWLElBQ0lrQixFQURhbkIsRUFBRUosTUFDQ3dCLFNBQVNBLFNBQ3pCQyxFQUFLRixFQUFHRyxLQUFLLFdBQ2JWLEVBQU9PLEVBQUdHLEtBQUssYUFDbkJwQixTQUFTQyxjQUFjLENBQ25CQyxNQUFTLFNBQ1RDLFlBQWUsWUFDZmtCLE1BQVNYLEVBQ1ROLGdCQUFtQixTQUFVQyxHQUN6QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLDJCQUNQQyxLQUFRLENBQ0pVLEdBQU1BLEVBQ05ULEtBQVFMLEdBRWJNLFFBQVcsU0FBVUMsR0FDTyxNQUFuQkEsRUFBYSxLQUNiQyxPQUFPQyxTQUFTQyxTQUdoQmYsU0FBU2dCLGlCQVNyQ3pCLGFBQWFDLFVBQVVLLDBCQUE0QixXQUMvQkMsRUFBRSxlQUNSQyxNQUFNLFdBQ1osSUFFSW9CLEVBRmFyQixFQUFFSixNQUNDd0IsU0FBU0EsU0FDakJFLEtBQUssV0FDakJwQixTQUFTc0IsYUFBYSxDQUNsQnBCLE1BQVMsY0FDVHFCLEtBQVEsVUFDUm5CLGdCQUFtQixTQUFVQyxHQUN6QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLDZCQUNQQyxLQUFRLENBQ0pVLEdBQU1BLEdBRVZSLFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxLQUNiQyxPQUFPQyxTQUFTQyxTQUdoQmYsU0FBU2dCLGlCQVVyQ2xCLEVBQUUwQixVQUFVQyxNQUFNLFlBQ0MsSUFBSWxDLGNBQ1ZFIiwiZmlsZSI6Im5ld3NfY2F0ZWdvcnkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTmV3c0NhdGVnb3J5KCkge1xyXG5cclxufVxyXG5cclxuXHJcbk5ld3NDYXRlZ29yeS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5saXN0ZW5BZGRDYXRlZ29yeUV2ZW50KCk7XHJcbiAgICB0aGlzLmxpc3RlbkVkaXRDYXRlZ29yeUV2ZW50KCk7XHJcbiAgICB0aGlzLmxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQoKTtcclxufVxyXG5cclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5BZGRDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFkZEJ0biA9ICQoJyNhZGQtYnRuJyk7XHJcbiAgICBhZGRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0T25lSW5wdXQoe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAn5re75Yqg5paw6IGe5YiG6aGeJyxcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJzogJ+iri+i8uOWFpeaWsOiBnuWIhumhnicsXHJcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9jbXMvYWRkX25ld3NfY2F0ZWdvcnkvJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiBpbnB1dFZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkVkaXRDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGVkaXRCdG4gPSAkKFwiLmVkaXQtYnRuXCIpO1xyXG4gICAgZWRpdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRCdG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cignZGF0YS1waycpO1xyXG4gICAgICAgIHZhciBuYW1lID0gdHIuYXR0cignZGF0YS1uYW1lJyk7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRPbmVJbnB1dCh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfkv67mlLnliIbpoZ7lkI3nqLEnLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAn6KuL6Ly45YWl5paw55qE5YiG6aGe5ZCN56ixJyxcclxuICAgICAgICAgICAgJ3ZhbHVlJzogbmFtZSxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9lZGl0X25ld3NfY2F0ZWdvcnkvJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogaW5wdXRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVsZXRlQnRuID0gJChcIi5kZWxldGUtYnRuXCIpO1xyXG4gICAgZGVsZXRlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudEJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXBrJyk7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRDb25maXJtKHtcclxuICAgICAgICAgICAgJ3RpdGxlJzogJ+S9oOeiuuWumuWIqumZpOmAmeWAi+WIhumhnuWXjj8nLFxyXG4gICAgICAgICAgICAndHlwZSc6IFwid2FybmluZ1wiLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2RlbGV0ZV9uZXdzX2NhdGVnb3J5LycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwayc6IHBrLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjYXRlZ29yeSA9IG5ldyBOZXdzQ2F0ZWdvcnkoKVxyXG4gICAgY2F0ZWdvcnkucnVuKClcclxufSlcclxuIl19
