function Banner(){this.bannerWidth=798,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-url"),this.liList=this.bannerUl.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}function Index(){this.page=2,this.category_id=0}Banner.prototype.initBanner=function(){var n=this.liList.eq(0).clone(),t=this.liList.eq(this.bannerCount-1).clone();this.bannerUl.append(n),this.bannerUl.prepend(t),this.bannerUl.css({width:(this.bannerCount+2)*this.bannerWidth,left:-this.bannerWidth})},Banner.prototype.animate=function(){var n=this.index;n=0===n?this.bannerCount-1:n===this.bannerCount+1?0:this.index-1,this.bannerUl.stop().animate({left:-798*this.index},500),this.pageControl.children("li").eq(n).addClass("active").siblings().removeClass("active")},Banner.prototype.initPageControl=function(){for(var n=this,t=0;t<n.bannerCount;t++){var e=$("<li></li>");n.pageControl.append(e),0===t&&e.addClass("active")}n.pageControl.css({width:12*n.bannerCount+16+16*(n.bannerCount-1)})},Banner.prototype.listenPageControl=function(){var e=this;e.pageControl.children("li").each(function(n,t){$(t).click(function(){0===n?e.index=1:n===e.bannerCount-1?e.index=e.bannerCount:e.index=n+1,e.bannerUl.stop().animate({left:-798*e.index},500),e.pageControl.children("li").eq(n).addClass("active").siblings().removeClass("active")})})},Banner.prototype.toggleArrow=function(n){n?(this.leftArrow.show(),this.rightArrow.show()):(this.leftArrow.hide(),this.rightArrow.hide())},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.run=function(){this.initPageControl(),this.initBanner(),this.loop(),this.listenArrowClick(),this.listenBannerHover(),this.listenPageControl()},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;this.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerWidth*n.bannerCount}),n.index=n.bannerCount-1):n.index--,n.animate()}),this.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Index.prototype.listenLoadMoreEvent=function(){var i=this,r=$("#load-more-btn");r.click(function(){xfzajax.get({url:"/news/list/",data:{p:i.page,category_id:i.category_id},success:function(n){if(200===n.code){var t=n.data;if(0<t.length){var e=template("news-item",{newses:t});$(".list-inner-group").append(e),i.page+=1}else r.hide()}}})})},Index.prototype.listenCategorySwitchEvent=function(){var o=this,n=$(".list-tab"),s=$("#load-more-btn");n.children().click(function(){var r=$(this),a=r.attr("data-category");xfzajax.get({url:"/news/list/",data:{category_id:a,p:1},success:function(n){if(200===n.code){var t=n.data,e=template("news-item",{newses:t}),i=$(".list-inner-group");i.empty(),i.append(e),o.page=2,o.category_id=a,r.addClass("active").siblings().removeClass("active"),s.show()}}})})},Index.prototype.run=function(){this.listenLoadMoreEvent(),this.listenCategorySwitchEvent()},$(document).ready(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiSW5kZXgiLCJwYWdlIiwiY2F0ZWdvcnlfaWQiLCJwcm90b3R5cGUiLCJpbml0QmFubmVyIiwiZmlyc3RCYW5uZXIiLCJlcSIsImNsb25lIiwibGFzdEJhbm5lciIsImFwcGVuZCIsInByZXBlbmQiLCJjc3MiLCJ3aWR0aCIsImxlZnQiLCJhbmltYXRlIiwic3RvcCIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImluaXRQYWdlQ29udHJvbCIsInNlbGYiLCJpIiwiY2lyY2xlIiwibGlzdGVuUGFnZUNvbnRyb2wiLCJlYWNoIiwib2JqIiwiY2xpY2siLCJ0b2dnbGVBcnJvdyIsImlzU2hvdyIsInNob3ciLCJoaWRlIiwibGlzdGVuQmFubmVySG92ZXIiLCJob3ZlciIsImNsZWFySW50ZXJ2YWwiLCJ0aW1lciIsImxvb3AiLCJydW4iLCJsaXN0ZW5BcnJvd0NsaWNrIiwic2V0SW50ZXJ2YWwiLCJsaXN0ZW5Mb2FkTW9yZUV2ZW50IiwibG9hZEJ0biIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwicCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJuZXdzZXMiLCJ0cGwiLCJ0ZW1wbGF0ZSIsImxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQiLCJ0YWJHcm91cCIsImxpIiwiYXR0ciIsIm5ld3NMaXN0R3JvdXAiLCJlbXB0eSIsImRvY3VtZW50IiwicmVhZHkiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFNBQ0xDLEtBQUtDLFlBQWMsSUFDbkJELEtBQUtFLFlBQWNDLEVBQUUsaUJBQ3JCSCxLQUFLSSxNQUFRLEVBQ2JKLEtBQUtLLFVBQVlG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YUFDYmtELEVBQVVsRCxFQUFFLGtCQUNoQjhELEVBQVN4RCxXQUFXOEIsTUFBTSxXQUV0QixJQUFJMkIsRUFBSy9ELEVBQUVILE1BQ1BlLEVBQWNtRCxFQUFHQyxLQUFLLGlCQUUxQmIsUUFBUUMsSUFBSSxDQUNSQyxJQUFPLGNBQ1BDLEtBQVEsQ0FDSjFDLFlBQWVBLEVBQ2YyQyxFQUxHLEdBT1BDLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJQyxFQUFTRCxFQUFhLEtBQ3RCRSxFQUFNQyxTQUFTLFlBQWEsQ0FBQ0YsT0FBVUEsSUFFdkNPLEVBQWdCakUsRUFBRSxxQkFDdEJpRSxFQUFjQyxRQUNkRCxFQUFjOUMsT0FBT3dDLEdBQ3JCN0IsRUFBS25CLEtBQU8sRUFDWm1CLEVBQUtsQixZQUFjQSxFQUNuQm1ELEVBQUdyQyxTQUFTLFVBQVVDLFdBQVdDLFlBQVksVUFDN0NzQixFQUFRWCxjQVE1QjdCLE1BQU1HLFVBQVVpQyxJQUFNLFdBQ2xCakQsS0FBS29ELHNCQUNMcEQsS0FBS2dFLDZCQUdUN0QsRUFBRW1FLFVBQVVDLE1BQU0sWUFDRCxJQUFJeEUsUUFDVmtELE9BRUssSUFBSXBDLE9BQ1ZvQyIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBCYW5uZXIoKSB7XHJcbiAgICB0aGlzLmJhbm5lcldpZHRoID0gNzk4Oy8v5LiA5by16Lyq5pKt5ZyW55qE5a+s5bqmXHJcbiAgICB0aGlzLmJhbm5lckdyb3VwID0gJChcIiNiYW5uZXItZ3JvdXBcIik7XHJcbiAgICB0aGlzLmluZGV4ID0gMTsvL+i8quaSreeahOasoeaVuFxyXG4gICAgdGhpcy5sZWZ0QXJyb3cgPSAkKFwiLmxlZnQtYXJyb3dcIik7XHJcbiAgICB0aGlzLnJpZ2h0QXJyb3cgPSAkKFwiLnJpZ2h0LWFycm93XCIpO1xyXG4gICAgdGhpcy5iYW5uZXJVbCA9ICQoXCIjYmFubmVyLXVybFwiKTtcclxuICAgIHRoaXMubGlMaXN0ID0gdGhpcy5iYW5uZXJVbC5jaGlsZHJlbihcImxpXCIpO1xyXG4gICAgdGhpcy5iYW5uZXJDb3VudCA9IHRoaXMubGlMaXN0Lmxlbmd0aDtcclxuICAgIHRoaXMucGFnZUNvbnRyb2wgPSAkKFwiLnBhZ2UtY29udHJvbFwiKTtcclxufVxyXG5cclxuXHJcbkJhbm5lci5wcm90b3R5cGUuaW5pdEJhbm5lciA9IGZ1bmN0aW9uICgpIHsvL+Wumue+qei8quaSreWcluWkp+ebkuWvrOW6plxyXG4gICAgdmFyIGZpcnN0QmFubmVyID0gdGhpcy5saUxpc3QuZXEoMCkuY2xvbmUoKTsvL+ikh+ijveesrOS4gOW8tei8quaSreWcllxyXG4gICAgdmFyIGxhc3RCYW5uZXIgPSB0aGlzLmxpTGlzdC5lcSh0aGlzLmJhbm5lckNvdW50IC0gMSkuY2xvbmUoKTsvL+ikh+ijveacgOW+jOS4gOW8tei8quaSreWcllxyXG4gICAgdGhpcy5iYW5uZXJVbC5hcHBlbmQoZmlyc3RCYW5uZXIpOy8v5bCH56ys5LiA5by16Lyq5pKt5ZyW5Yqg5Yiw5pyA5b6MXHJcbiAgICB0aGlzLmJhbm5lclVsLnByZXBlbmQobGFzdEJhbm5lcik7Ly/lsIfmnIDlvozkuIDlvLXovKrmkq3lnJbliqDliLDmnIDliY1cclxuXHJcbiAgICB0aGlzLmJhbm5lclVsLmNzcyh7XCJ3aWR0aFwiOiAodGhpcy5iYW5uZXJDb3VudCArIDIpICogdGhpcy5iYW5uZXJXaWR0aCwgXCJsZWZ0XCI6IC10aGlzLmJhbm5lcldpZHRofSlcclxufVxyXG5CYW5uZXIucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleDtcclxuICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgIGluZGV4ID0gdGhpcy5iYW5uZXJDb3VudCAtIDEvL2luZGV45pivMOaZgizlsI/pu57ot5HliLDmnIDlvozkuIDlvLXlnJbkuIpcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHRoaXMuYmFubmVyQ291bnQgKyAxKSB7XHJcbiAgICAgICAgaW5kZXggPSAwOy8vaW5kZXjmmK9iYW5uZXLnmoTplbfluqYs5bCP6bue6LeR5Yiw56ys5LiA5by15ZyW5LiKXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluZGV4ID0gdGhpcy5pbmRleCAtIDE7Ly/lsI/pu57kuIvmqJnmmK/ovKrmkq3lnJbkuIvmqJktMVxyXG4gICAgfVxyXG4gICAgdGhpcy5iYW5uZXJVbC5zdG9wKCkuYW5pbWF0ZSh7J2xlZnQnOiAtNzk4ICogdGhpcy5pbmRleH0sIDUwMCkvL2pz5YuV55Wr6YGO5rihXHJcbiAgICB0aGlzLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZXEoaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcclxufVxyXG5cclxuQmFubmVyLnByb3RvdHlwZS5pbml0UGFnZUNvbnRyb2wgPSBmdW5jdGlvbiAoKSB7Ly/li5XmhYvnlJ/miJDovKrmkq3lnJblsI/pu55cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuYmFubmVyQ291bnQ7IGkrKykge1xyXG4gICAgICAgIHZhciBjaXJjbGUgPSAkKFwiPGxpPjwvbGk+XCIpOy8v5Ym15bu6bGnmqJnnsaRcclxuICAgICAgICBzZWxmLnBhZ2VDb250cm9sLmFwcGVuZChjaXJjbGUpO1xyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNpcmNsZS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+aOp+WItui8quaSreWcluWwj+m7nuaineeahOWvrOW6plxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jc3Moe1wid2lkdGhcIjogc2VsZi5iYW5uZXJDb3VudCAqIDEyICsgOCAqIDIgKyAxNiAqIChzZWxmLmJhbm5lckNvdW50IC0gMSl9KVxyXG59XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblBhZ2VDb250cm9sID0gZnVuY3Rpb24gKCkgey8v6bue5pOK5bCP6bue6L2J6Lyq5pKt5ZyWXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIG9iaikge1xyXG4gICAgICAgICQob2JqKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHZhciBpbmRleCA9IHNlbGYuaW5kZXg7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbmRleCA9IDEvL2luZGV45pivMOaZgizlsI/pu57ot5HliLDmnIDlvozkuIDlvLXlnJbkuIpcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50Oy8vaW5kZXjmmK9iYW5uZXLnmoTplbfluqYs5bCP6bue6LeR5Yiw56ys5LiA5by15ZyW5LiKXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmluZGV4ID0gaW5kZXggKyAxOy8v5bCP6bue5LiL5qiZ5piv6Lyq5pKt5ZyW5LiL5qiZLTFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLnN0b3AoKS5hbmltYXRlKHsnbGVmdCc6IC03OTggKiBzZWxmLmluZGV4fSwgNTAwKS8vanPli5XnlavpgY7muKFcclxuICAgICAgICAgICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbihcImxpXCIpLmVxKGluZGV4KS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5CYW5uZXIucHJvdG90eXBlLnRvZ2dsZUFycm93ID0gZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgLy/mjqfliLbovKrmkq3lnJblt6blj7Pnrq3poK3mmK/lkKbpoa/npLpcclxuICAgIGlmIChpc1Nob3cpIHtcclxuICAgICAgICB0aGlzLmxlZnRBcnJvdy5zaG93KCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEFycm93LnNob3coKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0QXJyb3cuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMucmlnaHRBcnJvdy5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkJhbm5lckhvdmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzOy8v5YW25LuW5Ye95pW45Lit55qEdGhpc+S7o+ihqOWFtuWHveaVuOacrOi6q1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cC5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChzZWxmLnRpbWVyKTtcclxuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KHRydWUpO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYubG9vcCgpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3coZmFsc2UpO1xyXG4gICAgfSkvL+esrOS4gOWAi+WPg+aVuOaYr+m8oOaomeenu+WLleWIsGJhbm5lcuS4iuimgeWft+ihjOeahOWHveaVuC8v56ys5LqM5YCL5piv6byg5qiZ56e76LWw5pmC5Z+36KGM55qE5Ye95pW4XHJcbn1cclxuXHJcblxyXG5CYW5uZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBhZ2VDb250cm9sKCk7XHJcbiAgICB0aGlzLmluaXRCYW5uZXIoKTtcclxuICAgIHRoaXMubG9vcCgpO1xyXG4gICAgdGhpcy5saXN0ZW5BcnJvd0NsaWNrKCk7XHJcbiAgICB0aGlzLmxpc3RlbkJhbm5lckhvdmVyKCk7XHJcbiAgICB0aGlzLmxpc3RlblBhZ2VDb250cm9sKCk7XHJcbn1cclxuQmFubmVyLnByb3RvdHlwZS5sb29wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIHZhciBpbmRleCA9IDA7Ly/ovKrmkq3nmoTmrKHmlbhcclxuICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLmluZGV4ID49IHNlbGYuYmFubmVyQ291bnQgKyAxKSB7Ly/liqDkuoYy5by1YmFubmVyXHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogLXNlbGYuYmFubmVyV2lkdGh9KTsvL+WIsOacgOW+jOS4gOW8tWJhbm5lcuaZgueri+WNs+i3s+WIsOesrOS6jOW8tVxyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gMjsvL+i8quaSreWcluatuOS9jVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5hbmltYXRlKCkvL2pz5YuV55Wr6YGO5rihXHJcbiAgICB9LCAyMDAwKTtcclxufTtcclxuXHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQXJyb3dDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLmxlZnRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOiAtc2VsZi5iYW5uZXJXaWR0aCAqIHNlbGYuYmFubmVyQ291bnR9KS8vaW5kZXjmmK8w5pmC6Lez5Yiw5bC+5LqM5L2N572uXHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKVxyXG4gICAgfSlcclxuICAgIHRoaXMucmlnaHRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQgKyAxKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogLXNlbGYuYmFubmVyV2lkdGh9KTsvL+WIsOacgOW+jOS4gOW8tei8quaSreWcluaZgizovKrmkq3lnJbkvY3nva7nq4vljbPnp7vliLDnrKzkuozlvLVcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IDI7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXgrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpXHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gSW5kZXgoKSB7XHJcbiAgICB0aGlzLnBhZ2UgPSAyO1xyXG4gICAgdGhpcy5jYXRlZ29yeV9pZCA9IDBcclxuXHJcbn1cclxuXHJcbkluZGV4LnByb3RvdHlwZS5saXN0ZW5Mb2FkTW9yZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICB2YXIgbG9hZEJ0biA9ICQoXCIjbG9hZC1tb3JlLWJ0blwiKTtcclxuICAgIGxvYWRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvbGlzdC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdwJzogc2VsZi5wYWdlLFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5X2lkJzogc2VsZi5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3NlcyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoJ25ld3MtaXRlbScsIHsnbmV3c2VzJzogbmV3c2VzfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVsID0gJChcIi5saXN0LWlubmVyLWdyb3VwXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVsLmFwcGVuZCh0cGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSArPSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEJ0bi5oaWRlKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbkluZGV4LnByb3RvdHlwZS5saXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICB2YXIgdGFiR3JvdXAgPSAkKFwiLmxpc3QtdGFiXCIpO1xyXG4gICAgdmFyIGxvYWRCdG4gPSAkKFwiI2xvYWQtbW9yZS1idG5cIik7XHJcbiAgICB0YWJHcm91cC5jaGlsZHJlbigpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL3RoaXPmmK/nlbbliY3pu57mk4rnmoRsaVxyXG4gICAgICAgIHZhciBsaSA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIGNhdGVnb3J5X2lkID0gbGkuYXR0cihcImRhdGEtY2F0ZWdvcnlcIilcclxuICAgICAgICB2YXIgcGFnZSA9IDFcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvbGlzdC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6IGNhdGVnb3J5X2lkLFxyXG4gICAgICAgICAgICAgICAgJ3AnOiBwYWdlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3c2VzID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwibmV3cy1pdGVtXCIsIHtcIm5ld3Nlc1wiOiBuZXdzZXN9KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZW1wdHnlsIfmqJnnsaTkuIvnmoTlrZDlhYPntKDmuIXnqbpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3c0xpc3RHcm91cCA9ICQoXCIubGlzdC1pbm5lci1ncm91cFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdzTGlzdEdyb3VwLmVtcHR5KClcclxuICAgICAgICAgICAgICAgICAgICBuZXdzTGlzdEdyb3VwLmFwcGVuZCh0cGwpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gMi8v5LiL5LiA5qyh6bue5pOK5Yqg6LyJ55qE6aCB5pW4XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRlZ29yeV9pZCA9IGNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgbGkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZEJ0bi5zaG93KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuSW5kZXgucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubGlzdGVuTG9hZE1vcmVFdmVudCgpXHJcbiAgICB0aGlzLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQoKVxyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYmFubmVyID0gbmV3IEJhbm5lcigpXHJcbiAgICBiYW5uZXIucnVuKClcclxuXHJcbiAgICB2YXIgaW5kZXggPSBuZXcgSW5kZXgoKVxyXG4gICAgaW5kZXgucnVuKClcclxuXHJcbn0pO1xyXG4iXX0=
