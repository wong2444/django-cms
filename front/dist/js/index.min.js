function Banner(){this.bannerWidth=798,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-url"),this.liList=this.bannerUl.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}function Index(){this.page=2,this.category_id=0}Banner.prototype.initBanner=function(){var n=this.liList.eq(0).clone(),t=this.liList.eq(this.bannerCount-1).clone();this.bannerUl.append(n),this.bannerUl.prepend(t),this.bannerUl.css({width:(this.bannerCount+2)*this.bannerWidth,left:-this.bannerWidth})},Banner.prototype.animate=function(){var n=this.index;n=0===n?this.bannerCount-1:n===this.bannerCount+1?0:this.index-1,this.bannerUl.animate({left:-798*this.index},500),this.pageControl.children("li").eq(n).addClass("active").siblings().removeClass("active")},Banner.prototype.initPageControl=function(){for(var n=this,t=0;t<n.bannerCount;t++){var e=$("<li></li>");n.pageControl.append(e),0===t&&e.addClass("active")}n.pageControl.css({width:12*n.bannerCount+16+16*(n.bannerCount-1)})},Banner.prototype.listenPageControl=function(){var e=this;e.pageControl.children("li").each(function(n,t){$(t).click(function(){0===n?e.index=1:n===e.bannerCount-1?e.index=e.bannerCount:e.index=n+1,e.bannerUl.animate({left:-798*e.index},500),e.pageControl.children("li").eq(n).addClass("active").siblings().removeClass("active")})})},Banner.prototype.toggleArrow=function(n){n?(this.leftArrow.show(),this.rightArrow.show()):(this.leftArrow.hide(),this.rightArrow.hide())},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.run=function(){this.initPageControl(),this.initBanner(),this.loop(),this.listenArrowClick(),this.listenBannerHover(),this.listenPageControl()},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;this.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerWidth*n.bannerCount}),n.index=n.bannerCount-1):n.index--,n.animate()}),this.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Index.prototype.listenLoadMoreEvent=function(){var i=this,r=$("#load-more-btn");r.click(function(){xfzajax.get({url:"/news/list/",data:{p:i.page,category_id:i.category_id},success:function(n){if(200===n.code){var t=n.data;if(0<t.length){var e=template("news-item",{newses:t});$(".list-inner-group").append(e),i.page+=1}else r.hide()}}})})},Index.prototype.listenCategorySwitchEvent=function(){var o=this,n=$(".list-tab"),s=$("#load-more-btn");n.children().click(function(){var r=$(this),a=r.attr("data-category");xfzajax.get({url:"/news/list/",data:{category_id:a,p:1},success:function(n){if(200===n.code){var t=n.data,e=template("news-item",{newses:t}),i=$(".list-inner-group");i.empty(),i.append(e),o.page=2,o.category_id=a,r.addClass("active").siblings().removeClass("active"),s.show()}}})})},Index.prototype.run=function(){this.listenLoadMoreEvent(),this.listenCategorySwitchEvent()},$(document).ready(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiSW5kZXgiLCJwYWdlIiwiY2F0ZWdvcnlfaWQiLCJwcm90b3R5cGUiLCJpbml0QmFubmVyIiwiZmlyc3RCYW5uZXIiLCJlcSIsImNsb25lIiwibGFzdEJhbm5lciIsImFwcGVuZCIsInByZXBlbmQiLCJjc3MiLCJ3aWR0aCIsImxlZnQiLCJhbmltYXRlIiwiYWRkQ2xhc3MiLCJzaWJsaW5ncyIsInJlbW92ZUNsYXNzIiwiaW5pdFBhZ2VDb250cm9sIiwic2VsZiIsImkiLCJjaXJjbGUiLCJsaXN0ZW5QYWdlQ29udHJvbCIsImVhY2giLCJvYmoiLCJjbGljayIsInRvZ2dsZUFycm93IiwiaXNTaG93Iiwic2hvdyIsImhpZGUiLCJsaXN0ZW5CYW5uZXJIb3ZlciIsImhvdmVyIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVyIiwibG9vcCIsInJ1biIsImxpc3RlbkFycm93Q2xpY2siLCJzZXRJbnRlcnZhbCIsImxpc3RlbkxvYWRNb3JlRXZlbnQiLCJsb2FkQnRuIiwieGZ6YWpheCIsImdldCIsInVybCIsImRhdGEiLCJwIiwic3VjY2VzcyIsInJlc3VsdCIsIm5ld3NlcyIsInRwbCIsInRlbXBsYXRlIiwibGlzdGVuQ2F0ZWdvcnlTd2l0Y2hFdmVudCIsInRhYkdyb3VwIiwibGkiLCJhdHRyIiwibmV3c0xpc3RHcm91cCIsImVtcHR5IiwiZG9jdW1lbnQiLCJyZWFkeSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsU0FDTEMsS0FBS0MsWUFBYyxJQUNuQkQsS0FBS0UsWUFBY0MsRUFBRSxpQkFDckJILEtBQUtJLE1BQVEsRUFDYkosS0FBS0ssVUFBWUYsRUFBRSxl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QkFDaEI2RCxFQUFTdkQsV0FBVzZCLE1BQU0sV0FFdEIsSUFBSTJCLEVBQUs5RCxFQUFFSCxNQUNQZSxFQUFja0QsRUFBR0MsS0FBSyxpQkFFMUJiLFFBQVFDLElBQUksQ0FDUkMsSUFBTyxjQUNQQyxLQUFRLENBQ0p6QyxZQUFlQSxFQUNmMEMsRUFMRyxHQU9QQyxRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVcsQ0FDeEIsSUFBSUMsRUFBU0QsRUFBYSxLQUN0QkUsRUFBTUMsU0FBUyxZQUFhLENBQUNGLE9BQVVBLElBRXZDTyxFQUFnQmhFLEVBQUUscUJBQ3RCZ0UsRUFBY0MsUUFDZEQsRUFBYzdDLE9BQU91QyxHQUNyQjdCLEVBQUtsQixLQUFPLEVBQ1prQixFQUFLakIsWUFBY0EsRUFDbkJrRCxFQUFHckMsU0FBUyxVQUFVQyxXQUFXQyxZQUFZLFVBQzdDc0IsRUFBUVgsY0FRNUI1QixNQUFNRyxVQUFVZ0MsSUFBTSxXQUNsQmhELEtBQUttRCxzQkFDTG5ELEtBQUsrRCw2QkFHVDVELEVBQUVrRSxVQUFVQyxNQUFNLFlBQ0QsSUFBSXZFLFFBQ1ZpRCxPQUVLLElBQUluQyxPQUNWbUMiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQmFubmVyKCkge1xyXG4gICAgdGhpcy5iYW5uZXJXaWR0aCA9IDc5ODsvL+S4gOW8tei8quaSreWclueahOWvrOW6plxyXG4gICAgdGhpcy5iYW5uZXJHcm91cCA9ICQoXCIjYmFubmVyLWdyb3VwXCIpO1xyXG4gICAgdGhpcy5pbmRleCA9IDE7Ly/ovKrmkq3nmoTmrKHmlbhcclxuICAgIHRoaXMubGVmdEFycm93ID0gJChcIi5sZWZ0LWFycm93XCIpO1xyXG4gICAgdGhpcy5yaWdodEFycm93ID0gJChcIi5yaWdodC1hcnJvd1wiKTtcclxuICAgIHRoaXMuYmFubmVyVWwgPSAkKFwiI2Jhbm5lci11cmxcIik7XHJcbiAgICB0aGlzLmxpTGlzdCA9IHRoaXMuYmFubmVyVWwuY2hpbGRyZW4oXCJsaVwiKTtcclxuICAgIHRoaXMuYmFubmVyQ291bnQgPSB0aGlzLmxpTGlzdC5sZW5ndGg7XHJcbiAgICB0aGlzLnBhZ2VDb250cm9sID0gJChcIi5wYWdlLWNvbnRyb2xcIik7XHJcbn1cclxuXHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmluaXRCYW5uZXIgPSBmdW5jdGlvbiAoKSB7Ly/lrprnvqnovKrmkq3lnJblpKfnm5Llr6zluqZcclxuICAgIHZhciBmaXJzdEJhbm5lciA9IHRoaXMubGlMaXN0LmVxKDApLmNsb25lKCk7Ly/opIfoo73nrKzkuIDlvLXovKrmkq3lnJZcclxuICAgIHZhciBsYXN0QmFubmVyID0gdGhpcy5saUxpc3QuZXEodGhpcy5iYW5uZXJDb3VudCAtIDEpLmNsb25lKCk7Ly/opIfoo73mnIDlvozkuIDlvLXovKrmkq3lnJZcclxuICAgIHRoaXMuYmFubmVyVWwuYXBwZW5kKGZpcnN0QmFubmVyKTsvL+Wwh+esrOS4gOW8tei8quaSreWcluWKoOWIsOacgOW+jFxyXG4gICAgdGhpcy5iYW5uZXJVbC5wcmVwZW5kKGxhc3RCYW5uZXIpOy8v5bCH5pyA5b6M5LiA5by16Lyq5pKt5ZyW5Yqg5Yiw5pyA5YmNXHJcblxyXG4gICAgdGhpcy5iYW5uZXJVbC5jc3Moe1wid2lkdGhcIjogKHRoaXMuYmFubmVyQ291bnQgKyAyKSAqIHRoaXMuYmFubmVyV2lkdGgsIFwibGVmdFwiOiAtdGhpcy5iYW5uZXJXaWR0aH0pXHJcbn1cclxuQmFubmVyLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXg7XHJcbiAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICBpbmRleCA9IHRoaXMuYmFubmVyQ291bnQgLSAxLy9pbmRleOaYrzDmmYIs5bCP6bue6LeR5Yiw5pyA5b6M5LiA5by15ZyW5LiKXHJcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSB0aGlzLmJhbm5lckNvdW50ICsgMSkge1xyXG4gICAgICAgIGluZGV4ID0gMDsvL2luZGV45pivYmFubmVy55qE6ZW35bqmLOWwj+m7nui3keWIsOesrOS4gOW8teWcluS4ilxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpbmRleCA9IHRoaXMuaW5kZXggLSAxOy8v5bCP6bue5LiL5qiZ5piv6Lyq5pKt5ZyW5LiL5qiZLTFcclxuICAgIH1cclxuICAgIHRoaXMuYmFubmVyVWwuYW5pbWF0ZSh7J2xlZnQnOiAtNzk4ICogdGhpcy5pbmRleH0sIDUwMCkvL2pz5YuV55Wr6YGO5rihXHJcbiAgICB0aGlzLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZXEoaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcclxufVxyXG5cclxuQmFubmVyLnByb3RvdHlwZS5pbml0UGFnZUNvbnRyb2wgPSBmdW5jdGlvbiAoKSB7Ly/li5XmhYvnlJ/miJDovKrmkq3lnJblsI/pu55cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuYmFubmVyQ291bnQ7IGkrKykge1xyXG4gICAgICAgIHZhciBjaXJjbGUgPSAkKFwiPGxpPjwvbGk+XCIpOy8v5Ym15bu6bGnmqJnnsaRcclxuICAgICAgICBzZWxmLnBhZ2VDb250cm9sLmFwcGVuZChjaXJjbGUpO1xyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNpcmNsZS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+aOp+WItui8quaSreWcluWwj+m7nuaineeahOWvrOW6plxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jc3Moe1wid2lkdGhcIjogc2VsZi5iYW5uZXJDb3VudCAqIDEyICsgOCAqIDIgKyAxNiAqIChzZWxmLmJhbm5lckNvdW50IC0gMSl9KVxyXG59XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblBhZ2VDb250cm9sID0gZnVuY3Rpb24gKCkgey8v6bue5pOK5bCP6bue6L2J6Lyq5pKt5ZyWXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIG9iaikge1xyXG4gICAgICAgICQob2JqKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHZhciBpbmRleCA9IHNlbGYuaW5kZXg7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbmRleCA9IDEvL2luZGV45pivMOaZgizlsI/pu57ot5HliLDmnIDlvozkuIDlvLXlnJbkuIpcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50Oy8vaW5kZXjmmK9iYW5uZXLnmoTplbfluqYs5bCP6bue6LeR5Yiw56ys5LiA5by15ZyW5LiKXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmluZGV4ID0gaW5kZXggKyAxOy8v5bCP6bue5LiL5qiZ5piv6Lyq5pKt5ZyW5LiL5qiZLTFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmFuaW1hdGUoeydsZWZ0JzogLTc5OCAqIHNlbGYuaW5kZXh9LCA1MDApLy9qc+WLleeVq+mBjua4oVxyXG4gICAgICAgICAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZXEoaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbkJhbm5lci5wcm90b3R5cGUudG9nZ2xlQXJyb3cgPSBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICAvL+aOp+WItui8quaSreWcluW3puWPs+euremgreaYr+WQpumhr+ekulxyXG4gICAgaWYgKGlzU2hvdykge1xyXG4gICAgICAgIHRoaXMubGVmdEFycm93LnNob3coKTtcclxuICAgICAgICB0aGlzLnJpZ2h0QXJyb3cuc2hvdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmxlZnRBcnJvdy5oaWRlKCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEFycm93LmhpZGUoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQmFubmVySG92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7Ly/lhbbku5blh73mlbjkuK3nmoR0aGlz5Luj6KGo5YW25Ye95pW45pys6LqrXHJcbiAgICB0aGlzLmJhbm5lckdyb3VwLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHNlbGYudGltZXIpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3codHJ1ZSk7XHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5sb29wKCk7XHJcbiAgICAgICAgc2VsZi50b2dnbGVBcnJvdyhmYWxzZSk7XHJcbiAgICB9KS8v56ys5LiA5YCL5Y+D5pW45piv6byg5qiZ56e75YuV5YiwYmFubmVy5LiK6KaB5Z+36KGM55qE5Ye95pW4Ly/nrKzkuozlgIvmmK/pvKDmqJnnp7votbDmmYLln7fooYznmoTlh73mlbhcclxufVxyXG5cclxuXHJcbkJhbm5lci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0UGFnZUNvbnRyb2woKTtcclxuICAgIHRoaXMuaW5pdEJhbm5lcigpO1xyXG4gICAgdGhpcy5sb29wKCk7XHJcbiAgICB0aGlzLmxpc3RlbkFycm93Q2xpY2soKTtcclxuICAgIHRoaXMubGlzdGVuQmFubmVySG92ZXIoKTtcclxuICAgIHRoaXMubGlzdGVuUGFnZUNvbnRyb2woKTtcclxufVxyXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gdmFyIGluZGV4ID0gMDsvL+i8quaSreeahOasoeaVuFxyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuaW5kZXggPj0gc2VsZi5iYW5uZXJDb3VudCArIDEpIHsvL+WKoOS6hjLlvLViYW5uZXJcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOiAtc2VsZi5iYW5uZXJXaWR0aH0pOy8v5Yiw5pyA5b6M5LiA5by1YmFubmVy5pmC56uL5Y2z6Lez5Yiw56ys5LqM5by1XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyOy8v6Lyq5pKt5ZyW5q245L2NXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKS8vanPli5XnlavpgY7muKFcclxuICAgIH0sIDIwMDApO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5BcnJvd0NsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMubGVmdEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7XCJsZWZ0XCI6IC1zZWxmLmJhbm5lcldpZHRoICogc2VsZi5iYW5uZXJDb3VudH0pLy9pbmRleOaYrzDmmYLot7PliLDlsL7kuozkvY3nva5cclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IHNlbGYuYmFubmVyQ291bnQgLSAxO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4LS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpXHJcbiAgICB9KVxyXG4gICAgdGhpcy5yaWdodEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCArIDEpIHtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOiAtc2VsZi5iYW5uZXJXaWR0aH0pOy8v5Yiw5pyA5b6M5LiA5by16Lyq5pKt5ZyW5pmCLOi8quaSreWcluS9jee9rueri+WNs+enu+WIsOesrOS6jOW8tVxyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gMjtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCsrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5hbmltYXRlKClcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBJbmRleCgpIHtcclxuICAgIHRoaXMucGFnZSA9IDI7XHJcbiAgICB0aGlzLmNhdGVnb3J5X2lkID0gMFxyXG5cclxufVxyXG5cclxuSW5kZXgucHJvdG90eXBlLmxpc3RlbkxvYWRNb3JlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgIHZhciBsb2FkQnRuID0gJChcIiNsb2FkLW1vcmUtYnRuXCIpO1xyXG4gICAgbG9hZEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbmV3cy9saXN0LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3AnOiBzZWxmLnBhZ2UsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBzZWxmLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3c2VzID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld3Nlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnbmV3cy1pdGVtJywgeyduZXdzZXMnOiBuZXdzZXN9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdWwgPSAkKFwiLmxpc3QtaW5uZXItZ3JvdXBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kKHRwbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlICs9IDFcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQnRuLmhpZGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuSW5kZXgucHJvdG90eXBlLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgIHZhciB0YWJHcm91cCA9ICQoXCIubGlzdC10YWJcIik7XHJcbiAgICB2YXIgbG9hZEJ0biA9ICQoXCIjbG9hZC1tb3JlLWJ0blwiKTtcclxuICAgIHRhYkdyb3VwLmNoaWxkcmVuKCkuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vdGhpc+aYr+eVtuWJjem7nuaTiueahGxpXHJcbiAgICAgICAgdmFyIGxpID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSBsaS5hdHRyKFwiZGF0YS1jYXRlZ29yeVwiKVxyXG4gICAgICAgIHZhciBwYWdlID0gMVxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbmV3cy9saXN0LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5X2lkJzogY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICAgICAgICAncCc6IHBhZ2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJuZXdzLWl0ZW1cIiwge1wibmV3c2VzXCI6IG5ld3Nlc30pXHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbXB0eeWwh+aomeexpOS4i+eahOWtkOWFg+e0oOa4heepulxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzTGlzdEdyb3VwID0gJChcIi5saXN0LWlubmVyLWdyb3VwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld3NMaXN0R3JvdXAuZW1wdHkoKVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld3NMaXN0R3JvdXAuYXBwZW5kKHRwbClcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgPSAyLy/kuIvkuIDmrKHpu57mk4rliqDovInnmoTpoIHmlbhcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhdGVnb3J5X2lkID0gY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgICAgICAgICBsaS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICBsb2FkQnRuLnNob3coKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG5JbmRleC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5saXN0ZW5Mb2FkTW9yZUV2ZW50KClcclxuICAgIHRoaXMubGlzdGVuQ2F0ZWdvcnlTd2l0Y2hFdmVudCgpXHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYW5uZXIgPSBuZXcgQmFubmVyKClcclxuICAgIGJhbm5lci5ydW4oKVxyXG5cclxuICAgIHZhciBpbmRleCA9IG5ldyBJbmRleCgpXHJcbiAgICBpbmRleC5ydW4oKVxyXG5cclxufSk7XHJcbiJdfQ==
